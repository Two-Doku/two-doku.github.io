(this.webpackJsonptwodoku=this.webpackJsonptwodoku||[]).push([[0],{196:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(50),s=n.n(a),i=n(139),o=n(17),l=n(12),u=n(51),j=n.n(u),b=n(209),d=n(212),O=n(117),h=n(10),x=n(216),m=n(217),f=n(210),p=n(214),v=n(143),g=n.p+"static/media/sudoku_example.1fc7c6a5.jpg",y=n.p+"static/media/sudoku_example_1.80a8efcd.jpg",k=n(25),w=n(213),S=n(69),N=n(2),C="p-2 px-6 border rounded-lg text-xl focus:outline-none focus:ring-2 focus:ring-opacity-50 mr-3",E="px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-md border-0 shadow outline-none focus:outline-none focus:ring w-full mr-4",z=function(e){var t,n=e.open,r=e.onClose,a=e.onStart,s=e.uuid,i=e.disableClose,u=Object(c.useState)(""),b=Object(l.a)(u,2),d=b[0],O=b[1],h=Object(c.useRef)();return Object(N.jsxs)(w.a,{dimmer:"blurring",open:n,closeOnEscape:!i,closeOnDimmerClick:!i,onClose:r,size:"small",centered:!0,children:[Object(N.jsx)(w.a.Header,{children:"Send your partner the URL to this page:"}),Object(N.jsx)(w.a.Content,{children:Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"mb-3 pt-0",children:[Object(N.jsx)("label",{className:"block uppercase text-blueGray-600 text-sm font-bold mb-2",children:"URL (Copy this)"}),Object(N.jsxs)("div",{className:"flex justify-between",children:[Object(N.jsx)("input",{id:"inviteURL",ref:h,type:"text",placeholder:"URL",className:E,readOnly:"readonly",value:"".concat(window.location,"start/").concat(s)}),Object(N.jsx)("div",{className:"flex justify-center py-2",children:Object(N.jsx)(S.a,{onClick:function(){return function(e){var t=e.current;t.select(),t.setSelectionRange(0,99999),document.execCommand("copy")}(h)},name:"copy outline",size:"large",className:"cursor-pointer hover:text-blue-300"})})]})]}),Object(N.jsxs)("div",{className:"mb-3 pt-0",children:[Object(N.jsx)("label",{className:"block uppercase text-blueGray-600 text-sm font-bold mb-2",children:"Username"}),Object(N.jsx)("input",{type:"text",placeholder:"Username",className:E,value:d,onChange:function(e){var t=e.target;return O(t.value)}})]})]})}),Object(N.jsx)(w.a.Actions,{children:Object(N.jsxs)("div",{className:"pb-2",children:[Object(N.jsx)("button",{className:j()("".concat("bg-red-400 hover:bg-red-500 focus:ring-red-500 text-white"," ").concat(C),{hidden:i}),onClick:r,children:"Close"}),Object(N.jsx)("button",{className:j()("".concat(C),(t={},Object(o.a)(t,"bg-blue-400 hover:bg-blue-500 focus:ring-blue-500 text-white",!Object(k.isEmpty)(d)),Object(o.a)(t,"bg-gray-200 text-gray-500",Object(k.isEmpty)(d)),t)),onClick:function(){return a(d)},disabled:Object(k.isEmpty)(d),children:"Start"})]})})]})},I=n(215),P=r.a.createContext(),R=function(){return Object(c.useContext)(P)},A=function(e){var t=e.children,n=Object(c.useState)(null),r=Object(l.a)(n,2),a=r[0],s=r[1],i=Math.floor(100*Math.random());return Object(N.jsx)(P.Provider,{value:[i,a,s],children:t})},M=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(h.f)(),s=R(),i=Object(l.a)(s,3)[2],o=Object(I.a)();return Object(N.jsxs)(b.a,{children:[Object(N.jsxs)(x.a,{size:"big",children:[Object(N.jsx)(x.a.Header,{children:Object(N.jsxs)("div",{className:"flex justify-between",children:[Object(N.jsx)("span",{className:"text-3xl",children:"Rules of Twodoku"}),Object(N.jsx)(m.a,{primary:!0,size:"large",onClick:function(){return r(!0)},children:"Start Game"})]})}),Object(N.jsx)(f.a,{}),Object(N.jsx)("p",{children:"It's like Sudoku, but two people work together to solve a single puzzle!"}),Object(N.jsx)("p",{children:"Sudoku is a number puzzle game played using 81 squares laid out on a 9\xd79 grid. The grid is further broken down into 9 3\xd73 boxes. When you start a sudoku puzzle, some of the numbers will have already been placed. All you have to do is fill in the missing numbers by following some simple rules:"}),Object(N.jsx)("div",{className:"pl-20",children:Object(N.jsxs)("ol",{className:"list-decimal",children:[Object(N.jsx)("li",{children:"Every box must contain each number 1-9. The boxes are 3\xd73 grids and their outlines are marked with thicker line."}),Object(N.jsx)("li",{children:"Every row must contain each number 1-9"}),Object(N.jsx)("li",{children:"Every column must contain each number 1-9"})]})}),Object(N.jsx)("p",{children:"Each sudoku board has only one solution, which means that each square has only one possible correct number. This allows you to use logic to find the correct number to place in each square. You can find the correct number to write either by eliminating every other number as a possibility or by eliminating that number as a possibility in that square\u2019s shared row, column, or box."}),Object(N.jsx)("p",{children:"When you start a puzzle, it will look like something this:"}),Object(N.jsxs)(p.a,{centered:!0,children:[Object(N.jsx)(v.a,{src:g}),Object(N.jsx)(p.a.Content,{children:Object(N.jsx)(p.a.Description,{className:"text-center",children:"Some of the squares have values, your job is to fill in the blank squares."})})]}),Object(N.jsx)("p",{children:"When solved, the puzzle will look like this:"}),Object(N.jsxs)(p.a,{centered:!0,children:[Object(N.jsx)(v.a,{src:y}),Object(N.jsx)(p.a.Content,{children:Object(N.jsx)(p.a.Description,{className:"text-center",children:"Notice how every row, column, and box contains every number 1-9."})})]}),Object(N.jsxs)("p",{children:["Sudoku instructions were written by"," ",Object(N.jsx)("a",{href:"http://www.sudokubeginner.com/rules-of-sudoku/",children:"sudokubeginner.com"})]})]}),Object(N.jsx)(z,{open:n,onClose:function(){return r(!1)},onStart:function(e){i(e),a.push("start/".concat(o))},uuid:o})]})},D={HOME:"",RULES:"rules",SCORE:"scoreboard",INVITE:"invite",GAME:"start"},L=r.a.createContext(),G=function(){return Object(c.useContext)(L)},W=function(e){var t=e.socket,n=e.children;return Object(N.jsx)(L.Provider,{value:[t],children:n})},T=n(220),F=n(56),H=n(55),U=function(e){var t,n=e.value,r=e.row,a=e.col,s=e.highlight,i=e.onHover,l=e.onClick,u=e.onKeyPress,b=e.playerOther,d=e.original,O=e.invalid,h=Object(c.useCallback)((function(e){var t=parseInt(e);Object(k.isNumber)(t)&&t>0&&u(t)}),[u]);return Object(N.jsx)("div",{className:j()("".concat("border border-gray-300 cursor-pointer text-center py-2 md:py-7  focus:outline-none"),(t={},Object(o.a)(t,"border-l-4",a%3===1&&1!==a),Object(o.a)(t,"border-t-4",r%3===1&&1!==r),Object(o.a)(t,"bg-blue-100",s&&!b&&!O),Object(o.a)(t,"bg-yellow-100",b&&!O),Object(o.a)(t,"text-green-500",!d&&!O),Object(o.a)(t,"text-red-500 bg-pink-100",O),Object(o.a)(t,"hover:bg-green-100",!O),t)),onMouseEnter:function(){return i(r,a)},onMouseLeave:function(){return i()},onClick:function(){return l(r,a)},tabIndex:"0",onKeyPress:function(e){var t=e.key;return h(t)},children:Object(N.jsx)("div",{children:Object(N.jsx)("span",{className:"text-3xl",children:n||Object(N.jsx)("br",{})})})})};U.defaultProps={onHover:k.noop,onClick:k.noop,onKeyPress:k.noop};var q=U,_=n(112),J=n(9),V=Array.from(Array(9)).map((function(e,t){return t+1})),K=function(e){var t=e.onClick;return Object(N.jsx)("div",{className:"flex justify-center",children:Object(N.jsx)("div",{className:"w-5/6 grid grid-cols-9",children:V.map((function(e){return Object(N.jsx)("div",{className:"text-center",children:Object(N.jsx)("span",{className:"text-4xl sm:text-5xl  text-blue-400 cursor-pointer font-semibold hover:text-blue-700",onClick:function(){return t(e)},children:e})},"val_".concat(e))}))})})},Y={PROGRESS:"progress",WIN:"win",LOSE:"lose"},B=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(T.a,{icon:!0,children:[Object(N.jsx)(S.a,{name:"trophy"}),"Well Done!"]}),Object(N.jsx)(w.a.Content,{image:!0,scrolling:!0,children:Object(N.jsx)("p",{className:"text-center text-xl",children:"You completed this Sudoku Puzzle. Would you like to play another game?"})})]})},Q=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(T.a,{icon:!0,children:[Object(N.jsx)(S.a,{name:"handshake outline"}),"Oh no!"]}),Object(N.jsxs)(w.a.Content,{children:[Object(N.jsx)("p",{className:"text-center text-xl",children:"Too many mistakes have been made on this Sudoku Puzzle."}),Object(N.jsx)("br",{}),Object(N.jsx)("p",{className:"text-center text-xl",children:"Would you like to play another game?"})]})]})},X=function(e){var t,n=e.open,c=e.state,r=e.onExit,a=e.onPlayAgain;switch(c){case Y.WIN:t=Object(N.jsx)(B,{});break;case Y.LOSE:t=Object(N.jsx)(Q,{});break;default:return Object(N.jsx)(N.Fragment,{})}return Object(N.jsxs)(w.a,{basic:!0,open:n,size:"small",children:[t,Object(N.jsxs)(w.a.Actions,{children:[Object(N.jsxs)(m.a,{basic:!0,color:"red",inverted:!0,onClick:r,children:[Object(N.jsx)(S.a,{name:"remove"})," No"]}),Object(N.jsxs)(m.a,{color:"green",inverted:!0,onClick:a,children:[Object(N.jsx)(S.a,{name:"checkmark"})," Yes"]})]})]})},Z=function(e){var t=e.id,n=e.originalSet,r=e.currentState,a=Object(c.useState)([]),s=Object(l.a)(a,2),i=s[0],o=s[1],u=Object(c.useState)([]),j=Object(l.a)(u,2),b=j[0],d=j[1],O=Object(c.useState)(0),x=Object(l.a)(O,2),m=x[0],p=x[1],v=Object(c.useState)(Y.PROGRESS),g=Object(l.a)(v,2),y=g[0],k=g[1],w=G(),S=Object(l.a)(w,1)[0],C=R(),E=Object(l.a)(C,1)[0],z=Object(h.f)();Object(c.useEffect)((function(){o(Object(H.a)(r).map((function(e,t){var c=e.value,r=e.isValid;return{value:c,isOriginal:n[t]>0,isValid:r}})))}),[n,r]),Object(c.useEffect)((function(){S.on("cell-position",(function(e){var t=e.userID,n=e.row,c=e.col;if(t!==E){var r=9*(n-1)+(c-1);o((function(e){return e.map((function(e,t){return Object(F.a)(Object(F.a)({},e),{},{playerOther:r===t})}))}))}})),S.on("cell-populate",(function(e){var t=e.userID,n=e.row,c=e.col,r=e.value,a=e.valid,s=e.gameWin,i=9*(n-1)+(c-1);s&&k(Y.WIN),a||t!==E||p((function(e){return e+1})),o((function(e){var t=Object(H.a)(e);return t[i].value=r,t[i].isValid=a,t}))}))}),[E,S]),Object(c.useEffect)((function(){m>=6&&k(Y.LOSE)}),[m]),Object(c.useEffect)((function(){if(Object(_.a)(b))o((function(e){return e.map((function(e,t){return Object(F.a)(Object(F.a)({},e),{},{highlight:!1})}))}));else{var e=Object(l.a)(b,2),t=e[0],n=e[1],c=function(e,t){var n=Array.from(Array(9)).map((function(e,n){return t-1+9*n})),c=Array.from(Array(9)).map((function(t,n){return n+9*(e-1)}));return new Set([].concat(Object(H.a)(n),Object(H.a)(c),[]))}(t,n),r=9*(t-1)+(n-1);o((function(e){return e.map((function(e,t){return Object(F.a)(Object(F.a)({},e),{},{highlight:c.has(t)&&t!==r})}))}))}}),[b]);var P=Object(c.useCallback)((function(e,n){Object(J.a)(e)&&Object(J.a)(n)?d([]):(S.emit("cell-position",JSON.stringify({userID:E,row:e,col:n,sessionID:t})),d((function(){return[e,n]})))}),[S,E,t]),A=Object(c.useCallback)((function(e){var n=Object(l.a)(b,2),c=n[0],r=n[1];if(!Object(_.a)(b)){var a=9*(c-1)+(r-1);i[a].isOriginal||i[a].value===e||(o((function(t){var n=Object(H.a)(t);return n[a].value=e,n})),S.emit("cell-populate",JSON.stringify({userID:E,row:c,col:r,value:e,sessionID:t})))}}),[b,i,S,E,t]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"flex justify-start mb-3",children:Object(N.jsxs)("span",{className:"text-xl font-semibold bg-red-100 px-2 py-1 text-red-800",children:["Mistake Count: ",m,"/",6]})}),Object(N.jsx)(K,{onClick:A}),Object(N.jsx)(f.a,{}),Object(N.jsx)("div",{className:"flex justify-center",children:Object(N.jsx)("div",{className:" w-5/6 grid grid-cols-9 px-10",children:i.map((function(e,t){var n=e.value,c=e.highlight,r=e.playerOther,a=e.isOriginal,s=e.isValid;return Object(N.jsx)(q,{value:n,row:Math.floor(t/9)+1,col:t%9+1,highlight:c,onClick:P,onKeyPress:A,playerOther:r,original:a,invalid:!s},"Tile_".concat(t))}))})}),Object(N.jsx)(X,{open:!0,state:y,onExit:function(){z.push("/".concat(D.HOME))},onPlayAgain:function(){k(Y.PROGRESS),p(0),z.push("/".concat(D.GAME,"/").concat(Object(I.a)()))}})]})},$=n(219),ee=n(211),te=function(e){var t=e.text,n=e.size;return Object(N.jsx)($.a,{active:!0,inverted:!0,children:Object(N.jsx)(ee.a,{size:n,inverted:!0,children:t})})};te.defaultProps={text:"Loading",size:"medium"};var ne=te,ce="https://two-doku.herokuapp.com",re=function(){var e=Object(c.useState)({puzzle:[],state:[]}),t=Object(l.a)(e,2),n=t[0],r=t[1],a=R(),s=Object(l.a)(a,3),i=s[0],o=s[1],u=s[2],j=Object(c.useState)(Object(k.isEmpty)(o)),b=Object(l.a)(j,2),d=b[0],O=b[1],x=Object(c.useState)(!0),m=Object(l.a)(x,2),f=m[0],p=m[1],v=Object(h.g)().gameId,g=G(),y=Object(l.a)(g,1)[0];return Object(c.useEffect)((function(){fetch("".concat(ce,"/puzzle/").concat(v)).then((function(e){return e.json()})).then((function(e){var t=e.puzzle,n=e.state;r({puzzle:t,state:n}),p(!1)})),y.emit("join-game",JSON.stringify({userID:i,sessionID:v}))}),[y,v,i]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(z,{open:d,onClose:function(){return O(!1)},onStart:function(e){u(e),O(!1)},disableClose:!0,uuid:v}),f&&Object(N.jsx)(ne,{size:"large"}),Object(N.jsxs)("div",{className:"flex justify-between",children:[Object(N.jsx)(T.a,{as:"h1",children:"Welcome to Twodoku"}),Object(N.jsx)("div",{children:Object(N.jsx)("span",{className:"text-xl font-bold bg-purple-600 text-white px-2 py-1 rounded-lg",children:o})})]}),Object(N.jsx)(Z,{originalSet:n.puzzle,currentState:n.state,id:v})]})},ae=[{label:"Home",route:D.HOME}],se=function(){var e=Object(c.useState)(D.HOME),t=Object(l.a)(e,2),n=t[0],r=t[1],a=function(e,t){var n=t.name;return r(n)};return Object(N.jsx)(O.a,{children:Object(N.jsxs)(b.a,{children:[Object(N.jsx)(d.a,{pointing:!0,secondary:!0,children:ae.map((function(e,t){var c=e.label,r=e.route;return Object(N.jsx)(O.b,{to:"/".concat(r),children:Object(N.jsx)(d.a.Item,{name:r,active:n===r,onClick:a,children:Object(N.jsx)("span",{className:j()("font-sans text-2xl font-light",Object(o.a)({},"font-sans text-3xl font-normal",n===r)),children:c})})},"tab_".concat(t))}))}),Object(N.jsxs)(h.c,{children:[Object(N.jsx)(h.a,{path:"/".concat(D.GAME,"/:gameId"),children:Object(N.jsx)(re,{})}),Object(N.jsx)(h.a,{path:"/",exact:!0,children:Object(N.jsx)(M,{})})]})]})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,222)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},oe=(n(195),n(196),Object(i.io)(ce));s.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(A,{children:Object(N.jsx)(W,{socket:oe,children:Object(N.jsx)(se,{})})})}),document.getElementById("root")),ie()}},[[197,1,2]]]);
//# sourceMappingURL=main.7b42161c.chunk.js.map